{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEoBC,SAASC,cAAc,SAE/BC,iBAAiB,UAE7B,SAAmBC,GACjBA,EAAEC,iBACF,IAAIC,EAAU,EACVC,EAAQC,OAAOJ,EAAEK,OAAOC,MAAMC,OAC5BC,EAAOJ,OAAOJ,EAAEK,OAAOG,KAAKD,OAC5BE,EAASL,OAAOJ,EAAEK,OAAOI,OAAOF,OAEtCG,YAAW,WACT,IAAMC,EAAgBC,aAAY,WAsBtC,IAAuBC,EAAUP,EACzBQ,EACAC,EAvBEN,IAAWP,EACbc,cAAcL,IAEdT,KAkBeW,EAjBDX,EAiBWI,EAjBFH,EAkBvBW,EAAgBG,KAAKC,SAAW,GAChCH,EAAW,CAAEF,WAAUP,SACzBQ,EACKK,QAAQC,QAAQL,GAEhBI,QAAQE,OAAON,IAtBfO,MAAK,SAAAC,G,IAAGV,EAAQU,EAARV,SAAUP,EAAKiB,EAALjB,MACjBkB,EAAA7B,GAAS8B,OAAOC,QACd,uBAAwCC,OAAfd,EAAS,QAAYc,OAANrB,EAAM,UAGjDsB,OAAM,SAAAL,G,IAAGV,EAAQU,EAARV,SAAUP,EAAKiB,EAALjB,MAClBkB,EAAA7B,GAAS8B,OAAOI,QACd,sBAAqCF,OAAfd,EAAS,QAAYc,OAANrB,EAAM,UAGjDH,GAASK,KAEVA,KACFL,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst elementForm = document.querySelector('.form');\n\nelementForm.addEventListener('submit', formValue);\n\nfunction formValue(e) {\n  e.preventDefault();\n  let counter = 0;\n  let delay = Number(e.target.delay.value);\n  const step = Number(e.target.step.value);\n  const amount = Number(e.target.amount.value);\n\n  setTimeout(() => {\n    const setIntervalId = setInterval(() => {\n      if (amount === counter) {\n        clearInterval(setIntervalId);\n      } else {\n        counter++;\n        createPromise(counter, delay)\n          .then(({ position, delay }) => {\n            Notiflix.Notify.success(\n              `✅ Fulfilled promise ${position} in ${delay}ms`\n            );\n          })\n          .catch(({ position, delay }) => {\n            Notiflix.Notify.failure(\n              `❌ Rejected promise ${position} in ${delay}ms`\n            );\n          });\n        delay += step;\n      }\n    }, step);\n  }, delay);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const response = { position, delay };\n  if (shouldResolve) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(response);\n  }\n}\n"],"names":["$iU1Pc","parcelRequire","document","querySelector","addEventListener","e","preventDefault","counter","delay1","Number","target","delay","value","step","amount","setTimeout","setIntervalId","setInterval","position","shouldResolve","response","clearInterval","Math","random","Promise","resolve","reject","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.bf5e53a1.js.map"}